# 操作系统笔记

## 第五章 设备管理

##### I/O控制器方式：

- 轮询方式：不能充分利用设备和CPU，CPU和设备只能==串行==工作

- 中断方式：设备缓冲区越小，会占用更多的CPU时间，程序中断I/O将数据写入缓冲区，缓冲区满时发生中断将缓冲区的内容==写回内存==，CPU和设备可实现部分==并行工作==，使CPU资源得到更充分的利用

- DMA方式：响应中断请求后不用停止现行程序，***内存和设备***之间有一条==数据通路==成块的传送数据，无须CPU干预，DMA和内存之间==字传送==，DMA和设备之间可能是==字位或字节传送==，CPU利用率得到了提高

- 通道方式：CPU-通道-控制器-设备 CPU的利用率最高



##### 磁盘

柱面号、磁头号、扇区号

磁道是一个磁头在一个盘面旋转的轨迹，分为==多个扇区==

***所有磁头都在一个机械臂上，垂直于柱面***

循环排序见书p268

优化分布：注意每次读写操作后==磁盘旋转到位置==，合理利用时间



##### 磁盘移臂调度算法

- 先来先服务算法

  顺序执行，时间很长，寻道性能差

- 最短查找时间优先算法

  总是先执行查找时间最短的请求（距离最近的），会发生“==饥饿现象==”，先需要查询的距离远的柱面会要很久才能到达

- 扫描算法

  先往一个方向扫描，到头后再掉头扫描

- 分步扫描算法

  分为长度为N的子队列，每个子队列采用扫描算法

- 电梯调度算法

  扫描算法的改进：无访问请求时，移动臂停止不动

- 循环扫描算法

  直接往大扫描到底，然后回到0（不处理中途的柱面），然后继续向右走
